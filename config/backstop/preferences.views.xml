<?xml version="1.0" encoding="UTF-8"?>
<viewset name="Preferences" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

	<views>
	    <view
	    	name="EMail"
			class="java.util.prefs.Preferences"
			useresourcelabels="false">
		    	<desc><![CDATA[EMail Preference Form.]]></desc>
			<altviews>
				<altview name="EMail" viewdef="EMail" label="EMail" mode="edit" validated="true"/>
			</altviews>
		</view>

		<view
			name="Formatting"
			class="java.util.prefs.Preferences"
			useresourcelabels="false">
			<desc><![CDATA[Formatting Preference Form.]]></desc>
			<altviews>
				<altview name="Formatting" viewdef="Formatting" label="Formatting" mode="edit" validated="true"/>
			</altviews>
		</view>
		
		<view
			name="Misc"
			class="java.util.prefs.Preferences"
			useresourcelabels="false">
			<desc><![CDATA[Misc Preference Form.]]></desc>
			<altviews>
				<altview name="Misc" viewdef="Misc" label="Misc." mode="edit" validated="true"/>
			</altviews>
		</view>
		
		<view
			name="Cache"
			class="java.util.prefs.Preferences"
			useresourcelabels="false">
			<desc><![CDATA[Formatting Preference Form.]]></desc>
			<altviews>
				<altview name="Cache" viewdef="Cache" label="Cache" mode="edit" validated="true"/>
			</altviews>
		</view>
		
	</views>

	<viewdefs>
	    <viewdef
	         type="form"
	         name="EMail"
	         class="java.util.prefs.Preferences"
             gettable="edu.ku.brc.af.prefs.PrefsGettableImpl"
             settable="edu.ku.brc.af.prefs.PrefsSettableImpl">

		    	<desc><![CDATA[EMail Preference Form.]]></desc>

		    	<enableRules>
		    		<rule id="localmailbox"><![CDATA[accounttype.getSelectedIndex() == 1]]></rule>

		    		<rule id="accountname"><![CDATA[accounttype.getComboBox().getSelectedIndex() > 0]]></rule>
		    		<rule id="servername"><![CDATA[accounttype.getComboBox().getSelectedIndex() > 0]]></rule>
		    		<rule id="smtp"><![CDATA[accounttype.getComboBox().getSelectedIndex() > 0]]></rule>
		    		<rule id="username"><![CDATA[accounttype.getComboBox().getSelectedIndex() > 0]]></rule>
		    		<rule id="password"><![CDATA[accounttype.getComboBox().getSelectedIndex() > 0]]></rule>
		    		<rule id="email"><![CDATA[accounttype.getComboBox().getSelectedIndex() > 0]]></rule>

		    	</enableRules>

			<columnDef>p,2dlu,p,5dlu,p,2dlu,p</columnDef>
			<rowDef dup="14" cell="p" sep="4dlu"/>

			<rows>
				<row>
				    <cell type="separator" label="Email Account Settings"/>
				</row>
				<row>
					<cell type="label" name="accounttypeLabel" labelfor="accounttype" label="Account Type"/>
				    <cell type="field" uitype="combobox" id="accounttype" name="settings.email.accounttype" isrequired="true" initialize="data=Not in use, POP3, IMAP" valtype="Changed"/>
				</row>
				<row>
					<cell type="label" name="accountnameLabel" labelfor="accountname" label="Account Name"/>
				    <cell type="field" uitype="text" cols="20" id="accountname" name="settings.email.accountname" isrequired="true"/>
				</row>
				<row>
					<cell type="label" name="servernameLabel" labelfor="servername" label="Server Name"/>
				    <cell type="field" uitype="text" cols="20" id="servername" name="settings.email.servername" isrequired="true"/>

					<cell type="label" name="smtpLabel" labelfor="smtp" label="SMTP"/>
				    <cell type="field" uitype="text" cols="20" id="smtp" name="settings.email.smtp" isrequired="true"/>
				</row>
				<row>
					<cell type="label" name="localmailboxLabel" labelfor="localmailbox" label="Local Mailbox"/>
				    <cell type="field" id="localmailbox" name="settings.email.localmailbox" cols="20" colspan="5" uitype="browse" isrequired="true" validation="obj.isNotEmpty()" valtype="Changed"/>
				</row>
				<row>
				    <cell type="separator" label="User Information"/>
				</row>
				<row>
					<cell type="label" name="usernameLabel" labelfor="username" label="Username"/>
					<cell type="field" id="username" name="settings.email.username" uitype="text" cols="20" isrequired="true"/>

					<cell type="label" name="passwordLabel" labelfor="password" label="Password"/>
				    <cell type="field" id="password" name="settings.email.password" cols="20" uitype="password" ispassword="true" isencrypted="true"/>
				</row>
				<row>
					<cell type="label" name="emailLabel" labelfor="email" label="EMail" />
					<cell type="field" id="email" name="settings.email.email" uitype="text" cols="20" isrequired="true"/>
				</row>
				<row>
					<cell type="label" labelfor="" label="" />
					<cell type="command" id="testconnection" name="settings.email.testconnection" label="Send Test EMail" commandtype="EmailPref" action="test"/>
				</row>
			</rows>
		</viewdef>

		<viewdef
			type="form"
			name="Formatting"
			class="java.util.prefs.Preferences"
			gettable="edu.ku.brc.af.prefs.PrefsGettableImpl"
			settable="edu.ku.brc.af.prefs.PrefsSettableImpl">
			
			<desc><![CDATA[Formatting Preference Form.]]></desc>
			
			<columnDef>p,2px,p,2px,p:g,2px,p:g,6px,p,2px,p,2px,p</columnDef>
			<rowDef auto="true" cell="p" sep="4dlu"/>
			
			<rows>
				<row>
					<cell type="separator" label="Formatting" colspan="13"/>
				</row>
				<!--
				<row>
					<cell type="label" name="scrdateformatLabel" labelfor="scrdateformat" label="Screen Date Format"/>
					<cell type="field" uitype="text" cols="10" id="scrdateformat" name="ui.formatting.scrdateformat" isrequired="true" colspan="3"/>
				</row>
				<row>
					<cell type="label" labelfor="valtextcolor" label="Error Color"/>
					<cell type="field" uitype="colorchooser" id="valtextcolor" name="ui.formatting.valtextcolor"/>
				</row>
				
				<row>
					<cell type="label" labelfor="requiredfieldcolor" label="Required Field Color"/>
					<cell type="field" uitype="colorchooser" id="requiredfieldcolor" name="ui.formatting.requiredfieldcolor"/>
				</row>
				
				<row>
					<cell type="label" labelfor="viewfieldcolor" label="View Field Color"/>
					<cell type="field" uitype="colorchooser" id="viewfieldcolor" name="ui.formatting.viewfieldcolor"/>
				</row>
				-->
				<row>
					<cell type="label" labelfor="fontNames" label="Form Font"/>
					<cell type="field" uitype="combobox" id="fontNames" name="ui.formatting.fontNames" readonly="true" changesonly="true" colspan="5"/>
					<cell type="label" labelfor="fontSizes" label="Size"/>
					<cell type="field" uitype="combobox" id="fontSizes" name="ui.formatting.fontSize" readonly="true" changesonly="true"/>
					<cell type="field" uitype="dsptextfield" id="fontTest" name="fontTest" readonly="true"/>
				</row>
			</rows>
		</viewdef>
		
		<viewdef
			type="form"
			name="Misc"
			class="java.util.prefs.Preferences"
			gettable="edu.ku.brc.af.prefs.PrefsGettableImpl"
			settable="edu.ku.brc.af.prefs.PrefsSettableImpl">
			
			<desc><![CDATA[Formatting Misc Form.]]></desc>
			
			<columnDef>p,2dlu,p,5dlu,p,2dlu,p</columnDef>
			<rowDef auto="true" cell="p" sep="2dlu"/>
			
			<rows>
				<row>
					<cell type="separator" label="Misc" colspan="3"/>
				</row>
				<row>
					<cell type="label" labelfor="luceneLocation" label="Lucene Location"/>
					<cell type="field" uitype="browse" id="luceneLocation" name="ui.misc.luceneLocation" cols="30" initialize="dirsonly=true" isrequired="false" changesonly="true"/>
				</row>
			</rows>
		</viewdef>
		
		<viewdef
			type="form"
			name="Cache"
			class="java.util.prefs.Preferences"
			gettable="edu.ku.brc.af.prefs.PrefsGettableImpl"
			settable="edu.ku.brc.af.prefs.PrefsSettableImpl">
			
			<desc><![CDATA[Cache Preference Form.]]></desc>
			
			<columnDef>p:g,2px,max(150px;p):g,280px,f:p:g</columnDef>
			<rowDef auto="true" cell="p" sep="4dlu"/>
			
			<rows>
				<row>
					<cell type="separator" label="Misc" colspan="5"/>
				</row>
				<row>
					<cell type="command" id="clearcache" name="clearcache" label="Clear Cache" commandtype="ClearCache" action="ClearCache"/>
					<!-- <cell type="label" labelfor="clearcache" label="Clears Long Term, Short Term and Reports Cache" /> -->
				</row>
				<row>
					<cell type="label" labelfor="" label="" />
				</row>
				<!--
				<row>
					<cell type="separator" label="Reports and Labels" colspan="4"/>
				</row>
				<row>
					<cell type="label" labelfor="1" label="Image Directory"/>
					<cell type="field" id="1" name="REPORT_IMAGE_PATH" uitype="browse" cols="40" colspan="2" valtype="Changed"/>
				</row>
				-->
				<row>
					<cell type="separator" label="Version Checking" colspan="5"/>
				</row>
				<row>
					<cell type="field" id="2" name="version_check.auto" uitype="checkbox" label="Check for updates at startup" colspan="3"/>
				</row>
				<row>
					<cell type="separator" label="Anonymous Usage Statistics" colspan="5"/>
				</row>
				<row>
					<cell type="field" id="3" name="usage_tracking.send_stats" uitype="checkbox" label="Send usage statistics" colspan="3"/>
				</row>
			</rows>
		</viewdef>
		
		
	</viewdefs>

</viewset>
